@attribute [Authorize]

<div class="add-group-dialog">
    <div class="dialog-header">
        <RadzenIcon Icon="group_add" Style="font-size: 32px; margin-right: 12px;" />
        <RadzenText TextStyle="TextStyle.H5" class="mb-0">Create Group</RadzenText>
    </div>

    <RadzenTemplateForm TItem="GroupFormModel" Data="@model" Submit="@FormSubmit">
        <RadzenAlert Shade="Shade.Lighter" Variant="Variant.Flat" Size="AlertSize.Small"
                     AlertStyle="AlertStyle.Danger" Visible="@errorVisible">
            <RadzenIcon Icon="error_outline" class="me-2" />
            @error
        </RadzenAlert>

        <div class="form-section">
            <div class="form-section-header">
                <RadzenText TextStyle="TextStyle.Subtitle2" Class="mb-2">Information</RadzenText>
                <div class="section-divider"></div>
            </div>

            <RadzenRow style="margin-bottom: 1.5rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="Name" Component="Name" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <div class="custom-input-container">
                        <RadzenIcon Icon="playlist_play" />
                        <RadzenTextBox style="display: block; width: 100%; padding-left: 35px;"
                                       Placeholder="Group name"
                                       @bind-Value="@(model.Name)" Name="Name" />
                    </div>
                    <RadzenRequiredValidator Component="Name" Text="Name is required" Style="position: absolute" />
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow style="margin-bottom: 1.5rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="Description" Component="Description" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <div class="custom-input-container">
                        <RadzenIcon Icon="description" Style="align-self: flex-start; margin-top: 8px;" />
                        <RadzenTextArea Rows="4" style="display: block; width: 100%; padding-left: 35px;"
                                        Placeholder="Description"
                                        @bind-Value="@(model.Description)" Name="Description" />
                    </div>
                    <RadzenRequiredValidator Component="Description" Text="Description is required" Style="position: absolute" />
                </RadzenColumn>
            </RadzenRow>
        </div>

        <div class="form-actions">
            <RadzenButton ButtonStyle="ButtonStyle.Light" Text="Cancel" Click="@CancelClick" Variant="Variant.Flat" class="me-2" Disabled="@isProcessing" />
            @if (isProcessing)
            {
                <RadzenButton ButtonType="ButtonType.Submit" Text="Processing..." Icon="sync" IconSpin="true"
                              Disabled="true" Variant="Variant.Flat" ButtonStyle="ButtonStyle.Primary" />
            }
            else
            {
                <RadzenButton ButtonType="ButtonType.Submit" Icon="save" Text="Create Group"
                              Variant="Variant.Flat" ButtonStyle="ButtonStyle.Primary" />
            }
        </div>
    </RadzenTemplateForm>
</div>

<style>
    .add-group-dialog {
        padding: 0;
    }

    .dialog-header {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
    }

    .form-section {
        margin-bottom: 20px;
    }

    .form-section-header {
        margin-bottom: 16px;
    }

    .section-divider {
        height: 2px;
        background: var(--rz-border-light);
        width: 100%;
        margin-top: 4px;
    }

    .custom-input-container {
        position: relative;
    }

        .custom-input-container .rz-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

    .form-actions {
        display: flex;
        justify-content: flex-end;
        padding-top: 16px;
        margin-top: 16px;
        border-top: 1px solid var(--rz-border-light);
    }
</style>
