@attribute [Authorize]

<RadzenStack Gap="1rem" class="playlist-dialog-modern">
    <!-- 헤더 카드 -->
    <RadzenCard Variant="Variant.Outlined" class="header-card">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.75rem">
            <div class="icon-wrapper">
                <RadzenIcon Icon="library_music" Style="font-size: 1.5rem; color: var(--rz-primary);" />
            </div>
            <RadzenStack Gap="0.25rem">
                <RadzenText TextStyle="TextStyle.H6" class="mb-0" Style="color: var(--rz-text-color); font-weight: 600;">
                    플레이리스트 생성
                </RadzenText>
                <RadzenText TextStyle="TextStyle.Caption" class="mb-0" Style="color: var(--rz-text-secondary-color); font-size: 0.75rem;">
                    미디어를 효율적으로 구성하고 관리합니다
                </RadzenText>
            </RadzenStack>
        </RadzenStack>
    </RadzenCard>

    <!-- 폼 섹션 -->
    <RadzenTemplateForm TItem="GroupFormModel" Data="@model" Submit="@FormSubmit">
        <RadzenStack Gap="1rem">
            <!-- 에러 알림 -->
            @if (errorVisible)
            {
                <RadzenAlert AlertStyle="AlertStyle.Danger" 
                             Variant="Variant.Flat" 
                             Shade="Shade.Lighter" 
                             AllowClose="false"
                             Style="margin-bottom: 0;">
                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                        <RadzenIcon Icon="error_outline" />
                        <RadzenText TextStyle="TextStyle.Body2" class="mb-0">@error</RadzenText>
                    </RadzenStack>
                </RadzenAlert>
            }

            <!-- 플레이리스트 정보 카드 -->
            <RadzenCard Variant="Variant.Outlined" Style="padding: 1.25rem;">
                <RadzenStack Gap="1rem">
                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                        <RadzenIcon Icon="edit_note" Style="font-size: 1rem; color: var(--rz-primary);" />
                        <RadzenText TextStyle="TextStyle.Subtitle2" class="mb-0" Style="font-weight: 600;">
                            플레이리스트 정보
                        </RadzenText>
                    </RadzenStack>

                    <!-- 이름 필드 -->
                    <RadzenFormField Text="플레이리스트 이름" Variant="Variant.Outlined" Style="width: 100%;">
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@(model.Name)" 
                                          Name="Name"
                                          Placeholder="예: 오전 방송 음악 목록"
                                          Style="width: 100%;" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Caption" Style="color: var(--rz-text-secondary-color); font-size: 0.7rem;">
                                플레이리스트를 쉽게 식별할 수 있는 이름을 입력하세요
                            </RadzenText>
                        </Helper>
                    </RadzenFormField>
                    <RadzenRequiredValidator Component="Name" 
                                            Text="플레이리스트 이름은 필수 입력 항목입니다" 
                                            Style="font-size: 0.75rem;" />

                    <!-- 설명 필드 -->
                    <RadzenFormField Text="설명" Variant="Variant.Outlined" Style="width: 100%;">
                        <ChildContent>
                            <RadzenTextArea @bind-Value="@(model.Description)" 
                                           Name="Description"
                                           Rows="4"
                                           Placeholder="이 플레이리스트의 용도나 특징을 설명해주세요"
                                           Style="width: 100%; resize: vertical;" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Caption" Style="color: var(--rz-text-secondary-color); font-size: 0.7rem;">
                                플레이리스트의 목적이나 사용 시간대 등을 입력할 수 있습니다
                            </RadzenText>
                        </Helper>
                    </RadzenFormField>
                    <RadzenRequiredValidator Component="Description" 
                                            Text="설명은 필수 입력 항목입니다" 
                                            Style="font-size: 0.75rem;" />
                </RadzenStack>
            </RadzenCard>

            <!-- 안내 카드 -->
            <RadzenCard Variant="Variant.Filled" Style="background-color: var(--rz-info-lighter); border: 1px solid var(--rz-info-light); padding: 1rem;">
                <RadzenStack Gap="0.75rem">
                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                        <RadzenIcon Icon="info" Style="font-size: 1rem; color: var(--rz-info);" />
                        <RadzenText TextStyle="TextStyle.Subtitle2" class="mb-0" Style="color: var(--rz-info); font-weight: 600; font-size: 0.8rem;">
                            생성 안내
                        </RadzenText>
                    </RadzenStack>
                    <RadzenStack Gap="0.5rem" Style="padding-left: 1.5rem;">
                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Start" Gap="0.5rem">
                            <RadzenIcon Icon="check_circle" Style="font-size: 0.75rem; color: var(--rz-info); margin-top: 0.125rem;" />
                            <RadzenText TextStyle="TextStyle.Caption" class="mb-0" Style="color: var(--rz-text-color); font-size: 0.75rem;">
                                생성 후 미디어 파일을 추가할 수 있습니다
                            </RadzenText>
                        </RadzenStack>
                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Start" Gap="0.5rem">
                            <RadzenIcon Icon="check_circle" Style="font-size: 0.75rem; color: var(--rz-info); margin-top: 0.125rem;" />
                            <RadzenText TextStyle="TextStyle.Caption" class="mb-0" Style="color: var(--rz-text-color); font-size: 0.75rem;">
                                하나의 미디어를 여러 플레이리스트에 포함시킬 수 있습니다
                            </RadzenText>
                        </RadzenStack>
                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Start" Gap="0.5rem">
                            <RadzenIcon Icon="check_circle" Style="font-size: 0.75rem; color: var(--rz-info); margin-top: 0.125rem;" />
                            <RadzenText TextStyle="TextStyle.Caption" class="mb-0" Style="color: var(--rz-text-color); font-size: 0.75rem;">
                                채널별 방송에 즉시 활용 가능합니다
                            </RadzenText>
                        </RadzenStack>
                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Start" Gap="0.5rem">
                            <RadzenIcon Icon="check_circle" Style="font-size: 0.75rem; color: var(--rz-info); margin-top: 0.125rem;" />
                            <RadzenText TextStyle="TextStyle.Caption" class="mb-0" Style="color: var(--rz-text-color); font-size: 0.75rem;">
                                생성 후 언제든지 수정 및 관리가 가능합니다
                            </RadzenText>
                        </RadzenStack>
                    </RadzenStack>
                </RadzenStack>
            </RadzenCard>

            <!-- 버튼 영역 -->
            <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" Gap="0.75rem" Style="padding-top: 0.5rem;">
                <RadzenButton Text="취소" 
                              Icon="close" 
                              ButtonStyle="ButtonStyle.Light" 
                              Variant="Variant.Flat"
                              Click="@CancelClick" 
                              Disabled="@isProcessing"
                              Style="min-width: 100px;" />
                <RadzenButton Text="@(isProcessing ? "생성 중..." : "생성")" 
                              Icon="@(isProcessing ? "sync" : "add_circle")"
                              ButtonType="ButtonType.Submit"
                              ButtonStyle="ButtonStyle.Primary"
                              Variant="Variant.Flat"
                              Disabled="@isProcessing"
                              IsBusy="@isProcessing"
                              Style="min-width: 120px;" />
            </RadzenStack>
        </RadzenStack>
    </RadzenTemplateForm>
</RadzenStack>

<style>
    .playlist-dialog-modern {
        max-width: 600px;
        margin: 0 auto;
    }

    .header-card {
        background: linear-gradient(135deg, var(--rz-primary-lighter) 0%, var(--rz-base-background-color) 100%);
        border: 1px solid var(--rz-primary-light);
    }

    .icon-wrapper {
        width: 3rem;
        height: 3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--rz-base-background-color);
        border-radius: var(--rz-border-radius);
        border: 1px solid var(--rz-primary-light);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
</style>
