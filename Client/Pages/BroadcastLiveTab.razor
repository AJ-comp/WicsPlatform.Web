@using WicsPlatform.Client.Pages.SubPages

@* ë°©ì†¡ ë³µêµ¬ ì¤‘ ì˜¤ë²„ë ˆì´ *@
@if (_isRecoveringBroadcast)
{
    <div class="recovery-overlay">
        <RadzenCard class="rz-shadow-3 rz-border-radius-3" Style="padding: 1.5rem; min-width: 320px;">
            <RadzenStack AlignItems="AlignItems.Center" Gap="0.75rem">
                <RadzenProgressBarCircular Value="100"
                                           ShowValue="false"
                                           Mode="ProgressBarMode.Indeterminate"
                                           Size="ProgressBarCircularSize.Medium" />
                <RadzenText TextStyle="TextStyle.Body1" class="rz-text-align-center">
                    <strong>@(selectedChannel?.Name ?? "ì±„ë„") ë°©ì†¡ ë³µêµ¬ ì¤‘...</strong>
                </RadzenText>
                <RadzenText TextStyle="TextStyle.Caption" class="rz-text-align-center rz-color-secondary">
                    ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. ì´ì „ ë°©ì†¡ ìƒíƒœë¥¼ ë³µêµ¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                </RadzenText>
            </RadzenStack>
        </RadzenCard>
    </div>
}

<RadzenRow Gap="0.75rem" AlignItems="AlignItems.Stretch">
    <!-- ì¢Œì¸¡: ì±„ë„ ë¦¬ìŠ¤íŠ¸ -->
    <RadzenColumn Size="12" SizeMD="2" Style="display: flex;">
        <RadzenCard class="channel-list-panel" Style="display: flex; flex-direction: column; width: 100%;">
            <RadzenStack Gap="0.75rem" Style="flex: 1; display: flex; flex-direction: column;">
                <!-- í—¤ë” ë° ë²„íŠ¼ -->
                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.SpaceBetween" Gap="0.5rem" Wrap="FlexWrap.Wrap">
                    <!-- ì¢Œì¸¡: íƒ€ì´í‹€ -->
                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                        <RadzenIcon Icon="settings_input_antenna" Style="color: var(--rz-primary);" />
                        <RadzenText TextStyle="TextStyle.Subtitle1"><strong>ì±„ë„ ëª©ë¡</strong></RadzenText>
                        @if (channels != null && channels.Any())
                        {
                            <RadzenBadge BadgeStyle="BadgeStyle.Light" Text="@($"{channels.Count()}ê°œ")" IsPill="true" />
                        }
                    </RadzenStack>

                    <!-- ìš°ì¸¡: ë²„íŠ¼ ê·¸ë£¹ -->
                    <RadzenStack Orientation="Orientation.Horizontal" Gap="0.25rem">
                        <RadzenButton Icon="add_circle"
                                      ButtonStyle="ButtonStyle.Primary"
                                      Size="ButtonSize.ExtraSmall"
                                      Variant="Variant.Flat"
                                      Click="@OpenCreateChannelDialog"
                                      Title="ì±„ë„ ìƒì„±" />

                        <RadzenButton Icon="@(!isBroadcasting ? "play_circle" : "graphic_eq")"
                                      ButtonStyle="@(!isBroadcasting ? ButtonStyle.Success : ButtonStyle.Warning)"
                                      Size="ButtonSize.ExtraSmall"
                                      Variant="Variant.Flat"
                                      Disabled="@(isBroadcasting || selectedChannel == null)"
                                      Click="@(() => StartBroadcast())"
                                      Title="@(selectedChannel == null ? "ì±„ë„ì„ ì„ íƒí•˜ì„¸ìš”" : !isBroadcasting ? "ë°©ì†¡ ì‹œì‘" : "ë°©ì†¡ ì¤‘")" />

                        <RadzenButton Icon="settings"
                                      ButtonStyle="ButtonStyle.Info"
                                      Size="ButtonSize.ExtraSmall"
                                      Variant="Variant.Flat"
                                      Click="@OpenAudioSettingsDialog"
                                      Title="ì˜¤ë””ì˜¤ ì„¤ì •"
                                      Disabled="@(selectedChannel == null)" />

                        <RadzenButton Icon="tune"
                                      ButtonStyle="ButtonStyle.Secondary"
                                      Size="ButtonSize.ExtraSmall"
                                      Variant="Variant.Flat"
                                      Click="@OpenVolumeControlDialog"
                                      Title="ë³¼ë¥¨ ì œì–´"
                                      Disabled="@(selectedChannel == null)" />

                        @if (isBroadcasting)
                        {
                            @if (!isRecording)
                            {
                                <RadzenButton Icon="fiber_manual_record"
                                              ButtonStyle="ButtonStyle.Danger"
                                              Size="ButtonSize.ExtraSmall"
                                              Variant="Variant.Flat"
                                              Click="@StartRecording"
                                              Title="ë…¹ìŒ ì‹œì‘" />
                            }
                            else
                            {
                                <RadzenButton Icon="stop"
                                              ButtonStyle="ButtonStyle.Warning"
                                              Size="ButtonSize.ExtraSmall"
                                              Variant="Variant.Flat"
                                              Click="@StopRecording"
                                              Title="ë…¹ìŒ ì¤‘ì§€" />
                            }

                            <RadzenButton Icon="@(_currentLoopbackSetting ? "hearing" : "hearing_disabled")"
                                          ButtonStyle="@(_currentLoopbackSetting ? ButtonStyle.Success : ButtonStyle.Secondary)"
                                          Size="ButtonSize.ExtraSmall"
                                          Variant="Variant.Flat"
                                          Click="@ToggleLoopback"
                                          Title="@(_currentLoopbackSetting ? "ë£¨í”„ë°± ë„ê¸°" : "ë£¨í”„ë°± ì¼œê¸°")" />
                        }
                    </RadzenStack>
                </RadzenStack>

                <!-- ë°©ì†¡ ìƒíƒœ í‘œì‹œ -->
                @if (isBroadcasting)
                {
                    <RadzenAlert AlertStyle="AlertStyle.Success" 
                                 Variant="Variant.Flat" 
                                 Shade="Shade.Lighter"
                                 AllowClose="false">
                        <RadzenStack Gap="0.5rem">
                            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                                <RadzenIcon Icon="broadcast_on_home" class="broadcast-icon-pulse" />
                                <RadzenText TextStyle="TextStyle.Caption">
                                    <strong>ë°©ì†¡ ì¤‘</strong>
                                </RadzenText>
                            </RadzenStack>

                            @if (selectedChannel != null)
                            {
                                <RadzenText TextStyle="TextStyle.Caption">
                                    @selectedChannel.Name
                                </RadzenText>
                            }

                            @if (isRecording)
                            {
                                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                                    <RadzenIcon Icon="fiber_manual_record" class="recording-icon-blink" />
                                    <RadzenText TextStyle="TextStyle.Caption">
                                        @recordingDuration
                                    </RadzenText>
                                </RadzenStack>
                            }

                            <RadzenText TextStyle="TextStyle.Caption">
                                <strong>@recordingDataSize.ToString("F2") MB</strong>
                            </RadzenText>
                        </RadzenStack>
                    </RadzenAlert>
                }

                <!-- ì±„ë„ ë¦¬ìŠ¤íŠ¸ -->
                <div class="channel-list-vertical" style="flex: 1; overflow-y: auto;">
                    @if (channels != null && channels.Any())
                    {
                        @foreach (var channel in channels)
                        {
                            <RadzenCard class="@($"channel-item {(selectedChannel?.Id == channel.Id ? "selected" : "")}")"
                                        @onclick="@(() => SelectChannel(channel))">
                                <RadzenStack Gap="0.5rem">
                                    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.SpaceBetween">
                                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                                            <RadzenStack Gap="0.25rem">
                                                <RadzenText TextStyle="TextStyle.Body2" Style="font-weight: 600; margin: 0;">
                                                    @channel.Name
                                                </RadzenText>
                                                <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary" Style="margin: 0;">
                                                    @channel.SamplingRate Hz
                                                </RadzenText>
                                            </RadzenStack>
                                        </RadzenStack>
                                        <RadzenStack Gap="0.25rem" AlignItems="AlignItems.Center">
                                            <RadzenStack Orientation="Orientation.Horizontal" Gap="0.25rem">
                                                <div @onclick:stopPropagation="true" style="display: flex; gap: 0.25rem;">
                                                    <RadzenButton Icon="edit"
                                                                  ButtonStyle="ButtonStyle.Light"
                                                                  Size="ButtonSize.Small"
                                                                  Variant="Variant.Text"
                                                                  Click="@(() => OpenEditChannelDialog(channel))"
                                                                  Title="ì±„ë„ í¸ì§‘"
                                                                  Style="min-width: 32px;" />
                                                    <RadzenButton Icon="delete"
                                                                  ButtonStyle="ButtonStyle.Danger"
                                                                  Size="ButtonSize.Small"
                                                                  Variant="Variant.Text"
                                                                  Click="@(() => ConfirmDeleteChannel(channel))"
                                                                  Title="ì±„ë„ ì‚­ì œ"
                                                                  Disabled="@(isBroadcasting && selectedChannel?.Id == channel.Id)"
                                                                  Style="min-width: 32px;" />
                                                </div>
                                            </RadzenStack>
                                            <RadzenBadge BadgeStyle="@GetChannelBadgeStyle(channel.State)"
                                                         IsPill="true"
                                                         Text="@GetChannelStateText(channel.State)" />
                                        </RadzenStack>
                                    </RadzenStack>

                                    @if (!string.IsNullOrEmpty(channel.Description))
                                    {
                                        <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary" 
                                                    Style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            @channel.Description
                                        </RadzenText>
                                    }
                                </RadzenStack>
                            </RadzenCard>
                        }
                    }
                    else if (isLoading)
                    {
                        <div class="empty-state">
                            <RadzenProgressBarCircular Value="100" ShowValue="false" Mode="ProgressBarMode.Indeterminate" Size="ProgressBarCircularSize.Small" />
                            <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">ì±„ë„ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</RadzenText>
                        </div>
                    }
                    else
                    {
                        <div class="empty-state">
                            <RadzenIcon Icon="tv_off" Style="font-size: 2.5rem; color: var(--rz-text-disabled-color);" />
                            <RadzenText TextStyle="TextStyle.Body2">ìƒì„±ëœ ì±„ë„ì´ ì—†ìŠµë‹ˆë‹¤</RadzenText>
                            <RadzenText TextStyle="TextStyle.Caption" class="rz-color-secondary">
                                'ì±„ë„ ìƒì„±' ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì±„ë„ì„ ìƒì„±í•˜ì„¸ìš”
                            </RadzenText>
                        </div>
                    }
                </div>
            </RadzenStack>
        </RadzenCard>
    </RadzenColumn>

    <!-- ìš°ì¸¡: ë°©ì†¡ ì„¤ì • ë° ê´€ë¦¬ -->
    <RadzenColumn Size="12" SizeMD="10">
        <RadzenStack Gap="0.75rem">
            <!-- ì„ íƒëœ ì±„ë„ì´ ì—†ì„ ë•Œ ê°€ì´ë“œ í‘œì‹œ -->
            @if (selectedChannel == null && channels != null && channels.Any())
            {
                <RadzenCard class="rz-shadow-1 rz-border-radius-2 guide-card">
                    <RadzenStack Gap="1.5rem" Style="min-height: 500px;">
                        <!-- í—¤ë” -->
                        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Center" Gap="0.75rem">
                            <RadzenIcon Icon="broadcast_on_home" class="guide-icon-animate" Style="color: var(--rz-primary); font-size: 2.5rem;" />
                            <RadzenText TextStyle="TextStyle.H5" Style="margin: 0;"><strong>ë°©ì†¡ ê´€ë¦¬ ê°€ì´ë“œ</strong></RadzenText>
                        </RadzenStack>

                        <RadzenText TextStyle="TextStyle.Body2" class="rz-text-align-center rz-color-secondary" Style="max-width: 600px; margin: 0 auto;">
                            ì±„ë„ì„ ì„ íƒí•˜ê³  ë°©ì†¡ ì„¤ì •ì„ êµ¬ì„±í•œ í›„ ë°©ì†¡ì„ ì‹œì‘í•˜ì„¸ìš”
                        </RadzenText>

                        <!-- ìŠ¤í… ì¹´ë“œë“¤ -->
                        <RadzenRow Gap="1rem">
                            @foreach (var step in new[] {
                                        new { Number = "1", Title = "ì±„ë„ ì„ íƒ", Description = "ì¢Œì¸¡ ì±„ë„ ëª©ë¡ì—ì„œ ë°©ì†¡í•  ì±„ë„ì„ ì„ íƒí•˜ì„¸ìš”", Icon = "radio" },
                                        new { Number = "2", Title = "ìŠ¤í”¼ì»¤ ì„¤ì •", Description = "ë°©ì†¡í•  ìŠ¤í”¼ì»¤ ê·¸ë£¹ì„ ì„ íƒí•˜ê³  ì²´í¬í•˜ì„¸ìš”", Icon = "speaker" },
                                        new { Number = "3", Title = "ë°©ì†¡ êµ¬ì„±", Description = "ë³¼ë¥¨, TTS, í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ë“±ì„ ì„¤ì •í•˜ì„¸ìš”", Icon = "tune" },
                                        new { Number = "4", Title = "ë°©ì†¡ ì‹œì‘", Description = "ì¢Œì¸¡ ìƒë‹¨ì˜ ë°©ì†¡ ì‹œì‘ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”", Icon = "play_circle" }
                                        })
                            {
                                <RadzenColumn Size="12" SizeSM="6" SizeMD="3">
                                    <RadzenCard class="rz-shadow-2 step-card" Style="padding: 1.25rem; height: 100%; border: 2px solid transparent; transition: all 0.3s ease;">
                                        <RadzenStack Gap="0.75rem" AlignItems="AlignItems.Center" class="rz-text-align-center">
                                            <div class="step-icon-wrapper">
                                                <RadzenIcon Icon="@step.Icon" Style="font-size: 2rem; color: var(--rz-primary);" />
                                            </div>
                                            <RadzenBadge BadgeStyle="BadgeStyle.Primary" Text="@step.Number" IsPill="true" Style="padding: 0.25rem 0.75rem;" />
                                            <RadzenText TextStyle="TextStyle.Subtitle1" Style="margin: 0;"><strong>@step.Title</strong></RadzenText>
                                            <RadzenText TextStyle="TextStyle.Body2" class="rz-color-secondary" Style="line-height: 1.6;">
                                                @step.Description
                                            </RadzenText>
                                        </RadzenStack>
                                    </RadzenCard>
                                </RadzenColumn>
                            }
                        </RadzenRow>

                        <!-- ì¶”ê°€ íŒ ì„¹ì…˜ -->
                        <RadzenCard Variant="Variant.Outlined" Style="background: rgba(var(--rz-info-rgb), 0.1); border-color: rgba(var(--rz-info-rgb), 0.3); padding: 1rem;">
                            <RadzenStack Orientation="Orientation.Horizontal" Gap="1rem" AlignItems="AlignItems.Start">
                                <RadzenIcon Icon="lightbulb" class="tip-icon-pulse" Style="color: var(--rz-warning); font-size: 1.5rem; flex-shrink: 0;" />
                                <RadzenStack Gap="0.5rem" Style="flex: 1;">
                                    <RadzenText TextStyle="TextStyle.Subtitle2" Style="margin: 0; color: var(--rz-info);"><strong>ğŸ’¡ ìœ ìš©í•œ íŒ</strong></RadzenText>
                                    <RadzenStack Gap="0.25rem">
                                        <RadzenText TextStyle="TextStyle.Body2" Style="margin: 0;">â€¢ ë°©ì†¡ ì‹œì‘ ì „ ìŠ¤í”¼ì»¤ ì—°ê²° ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”</RadzenText>
                                        <RadzenText TextStyle="TextStyle.Body2" Style="margin: 0;">â€¢ TTSì™€ ë¯¸ë””ì–´ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë°©ì†¡ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</RadzenText>
                                        <RadzenText TextStyle="TextStyle.Body2" Style="margin: 0;">â€¢ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ êµ¬ì„±í•´ë‘ë©´ ë¹ ë¥¸ ë°©ì†¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</RadzenText>
                                    </RadzenStack>
                                </RadzenStack>
                            </RadzenStack>
                        </RadzenCard>
                    </RadzenStack>
                </RadzenCard>
            }

            <!-- ì„ íƒëœ ì±„ë„ì˜ ì„¹ì…˜ë“¤ -->
            @if (selectedChannel != null)
            {
                <!-- ë°©ì†¡ ëª¨ë‹ˆí„°ë§ íŒ¨ë„ (ë°©ì†¡ ì¤‘ì¼ ë•Œë§Œ í‘œì‹œ) -->
                @if (isBroadcasting)
                {
                    <BroadcastMonitoringSection Channel="@selectedChannel"
                                                @bind-IsCollapsed="@monitoringPanelCollapsed"
                                                IsMicEnabled="true"
                                                IsMediaEnabled="false"
                                                IsTtsEnabled="false"
                                                OnBroadcastStatusChanged="@OnBroadcastStatusChanged"
                                                OnBroadcastStopped="@OnBroadcastStopped"
                                                @ref="monitoringSection" />
                }

                <!-- ìŠ¤í”¼ì»¤ ê·¸ë£¹ ê´€ë¦¬ íŒ¨ë„ -->
                <BroadcastSpeakerSection Channel="@selectedChannel"
                                         @bind-IsCollapsed="@speakerGroupPanelCollapsed"
                                         @ref="speakerSection" />

                <!-- TTS ì„¤ì • ë° í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê°€ë¡œ ë°°ì¹˜ -->
                <RadzenRow Gap="0.75rem">
                    <!-- í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì„¤ì • íŒ¨ë„ (ì¢Œì¸¡ 60%) -->
                    <RadzenColumn Size="12" SizeMD="7">
                        <BroadcastPlaylistSection Channel="@selectedChannel"
                                                  @bind-IsCollapsed="@playlistPanelCollapsed"
                                                  IsBroadcasting="@isBroadcasting"
                                                  BroadcastId="@currentBroadcastId?.ToString()"
                                                  @ref="playlistSection" />
                    </RadzenColumn>

                    <!-- TTS ì„¤ì • íŒ¨ë„ (ìš°ì¸¡ 40%) -->
                    <RadzenColumn Size="12" SizeMD="5">
                        <BroadcastTtsSection Channel="@selectedChannel"
                                             @bind-IsCollapsed="@ttsPanelCollapsed"
                                             IsBroadcasting="@isBroadcasting"
                                             BroadcastId="@currentBroadcastId?.ToString()"
                                             @ref="ttsSection" />
                    </RadzenColumn>
                </RadzenRow>
            }
        </RadzenStack>
    </RadzenColumn>
</RadzenRow>

<style>
    /* ë³µêµ¬ ì˜¤ë²„ë ˆì´ */
    .recovery-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        animation: fadeIn 0.3s ease-in;
    }

    /* ì±„ë„ ë¦¬ìŠ¤íŠ¸ íŒ¨ë„ */
    .channel-list-panel {
        position: sticky;
        top: 70px;
    }

    /* ì±„ë„ ë¦¬ìŠ¤íŠ¸ ì„¸ë¡œ ë°°ì¹˜ */
    .channel-list-vertical {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

        .channel-list-vertical::-webkit-scrollbar {
            width: 6px;
        }

        .channel-list-vertical::-webkit-scrollbar-track {
            background: var(--rz-base-200);
            border-radius: 3px;
        }

        .channel-list-vertical::-webkit-scrollbar-thumb {
            background: var(--rz-base-400);
            border-radius: 3px;
        }

            .channel-list-vertical::-webkit-scrollbar-thumb:hover {
                background: var(--rz-base-500);
            }

    /* ì±„ë„ ì•„ì´í…œ */
    .channel-item {
        border: 2px solid var(--rz-border-color) !important;
        transition: all 0.2s ease;
        cursor: pointer;
        padding: 0.75rem !important;
    }

        .channel-item:hover {
            border-color: var(--rz-primary) !important;
            box-shadow: var(--rz-shadow-2) !important;
        }

        .channel-item.selected {
            border-color: var(--rz-primary) !important;
            background-color: var(--rz-primary-lighter) !important;
            box-shadow: var(--rz-shadow-2) !important;
        }

    /* ë¹ˆ ìƒíƒœ í‘œì‹œ */
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 2rem 1rem;
        text-align: center;
    }

    /* ë°©ì†¡ ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜ */
    .broadcast-icon-pulse {
        animation: pulse 2s infinite;
        color: var(--rz-success) !important;
    }

    .recording-icon-blink {
        animation: blink 1s infinite;
        color: var(--rz-danger) !important;
    }

    /* ì• ë‹ˆë©”ì´ì…˜ */
    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: scale(0.95);
        }

        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @@keyframes pulse {
        0%, 100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    @@keyframes blink {
        0%, 50%, 100% {
            opacity: 1;
        }

        25%, 75% {
            opacity: 0.3;
        }
    }

    /* ê°€ì´ë“œ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
    .guide-card {
        animation: fadeInUp 0.6s ease-out;
    }

    .guide-icon-animate {
        animation: bounce 2s infinite;
    }

    .step-card {
        animation: fadeInUp 0.6s ease-out;
        animation-fill-mode: both;
    }

        .step-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .step-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .step-card:nth-child(3) {
            animation-delay: 0.3s;
        }

        .step-card:nth-child(4) {
            animation-delay: 0.4s;
        }

        .step-card:hover {
            border-color: var(--rz-primary) !important;
            box-shadow: var(--rz-shadow-4) !important;
            transform: translateY(-4px);
        }

    .step-icon-wrapper {
        width: 64px;
        height: 64px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(var(--rz-primary-rgb), 0.1);
        border-radius: 50%;
        transition: all 0.3s ease;
    }

        .step-card:hover .step-icon-wrapper {
            background: rgba(var(--rz-primary-rgb), 0.2);
            transform: scale(1.1);
        }

    .tip-icon-pulse {
        animation: tipPulse 3s infinite;
    }

    @@keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @@keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }

        40% {
            transform: translateY(-10px);
        }

        60% {
            transform: translateY(-5px);
        }
    }

    @@keyframes tipPulse {
        0%, 100% {
            opacity: 1;
            transform: scale(1);
        }

        50% {
            opacity: 0.7;
            transform: scale(1.1);
        }
    }
</style>